(window["webpackJsonpmbase2modules"] = window["webpackJsonpmbase2modules"] || []).push([[47],{

/***/ 121:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _libs_exports__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);
/* harmony import */ var _app_globals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);



/* harmony default export */ __webpack_exports__["default"] = (async (cm, op={}) => {
    const record = await _libs_exports__WEBPACK_IMPORTED_MODULE_0__["record"]();
    const ModalDialog = await _libs_exports__WEBPACK_IMPORTED_MODULE_0__["ModalDialog"]();

    const modal = new ModalDialog.default({
        onShown: () => op.onShown && op.onShown(),
        onClose: () => op.onClose && op.onClose()
    });
    
    record.default({
        $parent: modal,
        cm: cm,
        saveOptions: {
            rootUrl: _app_globals__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].apiRoot + '/mb2data',
            urlParameters: ['json_flags=0'],
            beforeRequest: request => {

                if (op.beforeRequest) {
                    return op.beforeRequest(request);
                }

                return true;
            }
        },
        onInit: () => { 
            op.onInit && op.onInit();
        },
        refValues: op.refValues,
        
        onSuccessfullySaved: (cm, values) => {
            op.onSuccessfullySaved && op.onSuccessfullySaved(cm, values);
            modal.hide();
        }
    });
    modal.show();
});

/***/ })

}]);