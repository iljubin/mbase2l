(window["webpackJsonpmbase2modules"] = window["webpackJsonpmbase2modules"] || []).push([[93],{

/***/ 83:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _libs_exports__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);
/* harmony import */ var _app_globals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);



/* harmony default export */ __webpack_exports__["default"] = (async op => {
    const [
        utils,
        mutils,
        Mbase2ModuleIndex,
        ImageGallery
    ] = await Promise.all([
        _libs_exports__WEBPACK_IMPORTED_MODULE_0__["utils"](),
        _libs_exports__WEBPACK_IMPORTED_MODULE_0__["mutils"](),
        __webpack_require__.e(/* import() */ 5).then(__webpack_require__.bind(null, 34)),
        _libs_exports__WEBPACK_IMPORTED_MODULE_0__["ImageGallery"]()
    ]);

    const t = utils.t;

    let moduleIndex;

    const moduleIndexOptions = Object.assign({
        buttons: [
            {
                label: t`Image gallery`,
                iconClass:'image',
                onClick: () => {
                    ImageGallery.default({
                        mediaRootFolder: '/private/sop',
                        globals: _app_globals__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"]
                    });
                }
            },
            {
                key: 'new',
                label: t`New sign of presence`,
                iconClass: 'plus',
                path:'/sign'
            },
            {
                label: t`Batch import`,
                iconClass:'file',
                onClick: () => {
                    const dataTable = moduleIndex.table;

                    dataTable && dataTable.__editRecords && dataTable.__editRecords();
                }
            },
            {
                label:t`Export`,
                iconClass:'download',
                type: 'btn-primary',
                classes: 'btn-lg',
                onClick: () => {
                  utils.hrefClick(_app_globals__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].apiRoot+'/export/sop', null);
                }
            }
        ],
        batchOptionsModel: (attributes) => attributes.filter(a => a.dbcolumn === true || a.dbcolumn === undefined)
                            .filter(a => ['_batch_id', '_uname', '_genetics', '_location'].indexOf(a.key_name_id) ===-1)
                            .sort((a,b) => a.required ? -1 : 1),
        recordTimeStamps: false,
        moduleKey:'sop',
        title: t`Signs of presence`,
        viewName:'sop_vw',
        skipVariables: ['_sighting_time', '_animals_number', '_juvenile_number', '_batch_id', '_gps_colar_id','_prey_species','_marking_object', '_genetics', '_location_reference','_location','_location_data'],
        hideColumnsFromTable: ['_photos'],
        singleRecordPath: '/sign'
    }, op);

    moduleIndex = new Mbase2ModuleIndex.default(moduleIndexOptions);
    await moduleIndex.init();
});

/***/ })

}]);